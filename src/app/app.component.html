<app-lateral-bar *ngIf="!auth.isLoginView"></app-lateral-bar>
<div
  [style]="
    appStorage.lateralMenuExpansion
      ? 'width: calc(100vw - 150px); transform: translateX(150px);'
      : 'width: calc(100vw - 70px); transform: translateX(70px);'
  "
  *ngIf="!auth.isLoginView"
  style="transition: ease-in-out 200ms;"
>
  <div
    class="h-15 bg-white"
    [style]="
      appStorage.lateralMenuExpansion
        ? 'width: calc(100vw - 150px)'
        : 'width: calc(100vw - 70px)'
    "
  >
    <button
      mat-icon-button
      (click)="
        appStorage.lateralMenuExpansion = !appStorage.lateralMenuExpansion
      "
    >
      <mat-icon class="text-gray">menu</mat-icon>
    </button>
    <span class="translate-y-[-7px] inline-block text-gray_dark select-none">{{appStorage.moduleActual}}</span>
    <div
      class="float-right grid grid-cols-9 mr-2 cursor-pointer w-96"
      [matMenuTriggerFor]="menu"
    >
      <div class="col-span-8 relative">
        <p class="absolute top-2 text-right w-full pr-3 overflow-hidden whitespace-nowrap overflow-ellipsis">
          {{ appStorage.user.name }}
        </p>
        <p class="absolute top-6 text-right w-full pr-3" style="color: #6ddbda">
          <mat-icon class="">keyboard_arrow_down</mat-icon>
          <span class="translate-y-[-7px] inline-block">{{ appStorage.actualRol }}</span>
        </p>
      </div>
      <div class="mr-2 mt-1">
        <img src="/assets/icons/svg/user_icon.svg" width="40" />
      </div>
    </div>
  </div>
  <div
    class=""
    [style]="
      appStorage.lateralMenuExpansion
        ? 'width: calc(100vw - 150px)'
        : 'width: calc(100vw - 70px)'
    "
  >
    <router-outlet></router-outlet>
  </div>
</div>
<router-outlet *ngIf="auth.isLoginView"></router-outlet>
<app-spinner *ngIf="spinner.IsShowSpinner"></app-spinner>
<mat-menu #menu="matMenu" xPosition="before">
  <button mat-menu-item (click)="changeRole()" *ngIf="appStorage.user.roles?.length > 1">
    <mat-icon>account_circle</mat-icon>
    <span>Cambiar de rol</span>
  </button>
  <button mat-menu-item (click)="logOut()">
    <mat-icon>logout</mat-icon>
    <span>Cerrar sesi√≥n</span>
  </button>
</mat-menu>
